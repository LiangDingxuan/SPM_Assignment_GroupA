<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Freeplay Mode - Ngee Ann City Building Game</title>
    <link rel="stylesheet" href="css/styles.css" />
  </head>
  <body>
    <div id="sidebar">
      <div id="info">
        <p id="gamemode">Freeplay Mode</p>
        <p id="coins">Coins: âˆž</p>
        <p id="turn">Turn: 0</p>
        <p id="score">Score: 0</p>
        <p id="profit">Profit: 0</p>
        <p id="upkeep">Upkeep: 0</p>
      </div>
      <div id="controls">
        <label>Select Building Type: </label>
        <button id="building-btn-1" onclick="selectBuildingType('Residential')">
          Residential
        </button>
        <button id="building-btn-2" onclick="selectBuildingType('Industry')">
          Industry
        </button>
        <button id="building-btn-3" onclick="selectBuildingType('Commercial')">
          Commercial
        </button>
        <button id="building-btn-4" onclick="selectBuildingType('Park')">
          Park
        </button>
        <button id="building-btn-5" onclick="selectBuildingType('Road')">
          Road
        </button>
        <label>Demolish: </label>
        <button onclick="demolish()">Demolish Building</button>
        <label>Game Menu: </label>
        <button id="save-game" onclick="saveGame()">Save Current Game</button>
        <button onclick="returnToMenu()">Return to Main Menu</button>
      </div>
      <div id="legend">
        <h3>Legend</h3>
        <p>
          <img
            src="images/residential.jpg"
            alt="Residential"
            class="legend-icon"
          />
          Residential
        </p>
        <p>
          <img src="images/industry.png" alt="Industry" class="legend-icon" />
          Industry
        </p>
        <p>
          <img
            src="images/commercial.jpeg"
            alt="Commercial"
            class="legend-icon"
          />
          Commercial
        </p>
        <p><img src="images/park.jpg" alt="Park" class="legend-icon" /> Park</p>
        <p><img src="images/road.jpg" alt="Road" class="legend-icon" /> Road</p>
      </div>
    </div>
    <div id="main-content">
      <div id="city-grid-container">
        <div id="city-grid"></div>
      </div>
    </div>
    <script src="./javascript/freeplay.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        function getUrlParameter(name) {
          name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
          var regex = new RegExp("[\\?&]" + name + "=([^&#]*)");
          var results = regex.exec(location.search);
          return results === null
            ? ""
            : decodeURIComponent(results[1].replace(/\+/g, " "));
        }

        var gridSize = getUrlParameter("grid");
        var saveName = getUrlParameter("load");

        if (saveName) {
          loadGame(saveName);
        } else {
          gridSize = parseInt(gridSize) || 20;
          startNewGame(gridSize);
        }
      });
    </script>
  </body>
</html>
